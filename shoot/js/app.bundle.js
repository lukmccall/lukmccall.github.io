
!function(e){function t(e){delete installedChunks[e]}function r(e){var t=document.getElementsByTagName("head")[0],r=document.createElement("script");r.type="text/javascript",r.charset="utf-8",r.src=p.p+""+e+"."+x+".hot-update.js",t.appendChild(r)}function n(e){return e=e||1e4,new Promise(function(t,r){if("undefined"==typeof XMLHttpRequest)return r(new Error("No browser support"));try{var n=new XMLHttpRequest,i=p.p+""+x+".hot-update.json";n.open("GET",i,!0),n.timeout=e,n.send(null)}catch(e){return r(e)}n.onreadystatechange=function(){if(4===n.readyState)if(0===n.status)r(new Error("Manifest request to "+i+" timed out."));else if(404===n.status)t();else if(200!==n.status&&304!==n.status)r(new Error("Manifest request to "+i+" failed."));else{try{var e=JSON.parse(n.responseText)}catch(e){return void r(e)}t(e)}}})}function i(e){var t=k[e];if(!t)return p;var r=function(r){return t.hot.active?(k[r]?k[r].parents.indexOf(e)<0&&k[r].parents.push(e):(O=[e],y=r),t.children.indexOf(r)<0&&t.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+e),O=[]),p(r)};for(var n in p)Object.prototype.hasOwnProperty.call(p,n)&&"e"!==n&&Object.defineProperty(r,n,function(e){return{configurable:!0,enumerable:!0,get:function(){return p[e]},set:function(t){p[e]=t}}}(n));return r.e=function(e){function t(){D--,"prepare"===E&&(S[e]||l(e),0===D&&0===M&&h())}return"ready"===E&&s("prepare"),D++,p.e(e).then(t,function(e){throw t(),e})},r}function o(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:y!==e,active:!0,accept:function(e,r){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._acceptedDependencies[e[n]]=r||function(){};else t._acceptedDependencies[e]=r||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._declinedDependencies[e[r]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var r=t._disposeHandlers.indexOf(e);r>=0&&t._disposeHandlers.splice(r,1)},check:a,apply:u,status:function(e){if(!e)return E;P.push(e)},addStatusHandler:function(e){P.push(e)},removeStatusHandler:function(e){var t=P.indexOf(e);t>=0&&P.splice(t,1)},data:j[e]};return y=void 0,t}function s(e){E=e;for(var t=0;t<P.length;t++)P[t].call(null,e)}function c(e){return+e+""===e?+e:e}function a(e){if("idle"!==E)throw new Error("check() is only allowed in idle status");return m=e,s("check"),n(b).then(function(e){if(!e)return s("idle"),null;H={},S={},I=e.c,w=e.h,s("prepare");var t=new Promise(function(e,t){v={resolve:e,reject:t}});g={};return l(0),"prepare"===E&&0===D&&0===M&&h(),t})}function d(e,t){if(I[e]&&H[e]){H[e]=!1;for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(g[r]=t[r]);0==--M&&0===D&&h()}}function l(e){I[e]?(H[e]=!0,M++,r(e)):S[e]=!0}function h(){s("ready");var e=v;if(v=null,e)if(m)Promise.resolve().then(function(){return u(m)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var r in g)Object.prototype.hasOwnProperty.call(g,r)&&t.push(c(r));e.resolve(t)}}function u(r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];e.indexOf(n)<0&&e.push(n)}}if("ready"!==E)throw new Error("apply() is only allowed in ready status");r=r||{};var i,o,a,d,l,h={},u=[],f={},y=function(){console.warn("[HMR] unexpected require("+m.moduleId+") to disposed module")};for(var v in g)if(Object.prototype.hasOwnProperty.call(g,v)){l=c(v);var m;m=g[v]?function(e){for(var t=[e],r={},i=t.slice().map(function(e){return{chain:[e],id:e}});i.length>0;){var o=i.pop(),s=o.id,c=o.chain;if((d=k[s])&&!d.hot._selfAccepted){if(d.hot._selfDeclined)return{type:"self-declined",chain:c,moduleId:s};if(d.hot._main)return{type:"unaccepted",chain:c,moduleId:s};for(var a=0;a<d.parents.length;a++){var l=d.parents[a],h=k[l];if(h){if(h.hot._declinedDependencies[s])return{type:"declined",chain:c.concat([l]),moduleId:s,parentId:l};t.indexOf(l)>=0||(h.hot._acceptedDependencies[s]?(r[l]||(r[l]=[]),n(r[l],[s])):(delete r[l],t.push(l),i.push({chain:c.concat([l]),id:l})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:r}}(l):{type:"disposed",moduleId:v};var b=!1,_=!1,P=!1,M="";switch(m.chain&&(M="\nUpdate propagation: "+m.chain.join(" -> ")),m.type){case"self-declined":r.onDeclined&&r.onDeclined(m),r.ignoreDeclined||(b=new Error("Aborted because of self decline: "+m.moduleId+M));break;case"declined":r.onDeclined&&r.onDeclined(m),r.ignoreDeclined||(b=new Error("Aborted because of declined dependency: "+m.moduleId+" in "+m.parentId+M));break;case"unaccepted":r.onUnaccepted&&r.onUnaccepted(m),r.ignoreUnaccepted||(b=new Error("Aborted because "+l+" is not accepted"+M));break;case"accepted":r.onAccepted&&r.onAccepted(m),_=!0;break;case"disposed":r.onDisposed&&r.onDisposed(m),P=!0;break;default:throw new Error("Unexception type "+m.type)}if(b)return s("abort"),Promise.reject(b);if(_){f[l]=g[l],n(u,m.outdatedModules);for(l in m.outdatedDependencies)Object.prototype.hasOwnProperty.call(m.outdatedDependencies,l)&&(h[l]||(h[l]=[]),n(h[l],m.outdatedDependencies[l]))}P&&(n(u,[m.moduleId]),f[l]=y)}var D=[];for(o=0;o<u.length;o++)l=u[o],k[l]&&k[l].hot._selfAccepted&&D.push({module:l,errorHandler:k[l].hot._selfAccepted});s("dispose"),Object.keys(I).forEach(function(e){!1===I[e]&&t(e)});for(var S,H=u.slice();H.length>0;)if(l=H.pop(),d=k[l]){var A={},C=d.hot._disposeHandlers;for(a=0;a<C.length;a++)(i=C[a])(A);for(j[l]=A,d.hot.active=!1,delete k[l],a=0;a<d.children.length;a++){var q=k[d.children[a]];q&&((S=q.parents.indexOf(l))>=0&&q.parents.splice(S,1))}}var T,R;for(l in h)if(Object.prototype.hasOwnProperty.call(h,l)&&(d=k[l]))for(R=h[l],a=0;a<R.length;a++)T=R[a],(S=d.children.indexOf(T))>=0&&d.children.splice(S,1);s("apply"),x=w;for(l in f)Object.prototype.hasOwnProperty.call(f,l)&&(e[l]=f[l]);var L=null;for(l in h)if(Object.prototype.hasOwnProperty.call(h,l)){d=k[l],R=h[l];var U=[];for(o=0;o<R.length;o++)T=R[o],i=d.hot._acceptedDependencies[T],U.indexOf(i)>=0||U.push(i);for(o=0;o<U.length;o++){i=U[o];try{i(R)}catch(e){r.onErrored&&r.onErrored({type:"accept-errored",moduleId:l,dependencyId:R[o],error:e}),r.ignoreErrored||L||(L=e)}}}for(o=0;o<D.length;o++){var z=D[o];l=z.module,O=[l];try{p(l)}catch(e){if("function"==typeof z.errorHandler)try{z.errorHandler(e)}catch(t){r.onErrored&&r.onErrored({type:"self-accept-error-handler-errored",moduleId:l,error:t,orginalError:e}),r.ignoreErrored||L||(L=t),L||(L=e)}else r.onErrored&&r.onErrored({type:"self-accept-errored",moduleId:l,error:e}),r.ignoreErrored||L||(L=e)}}return L?(s("fail"),Promise.reject(L)):(s("idle"),new Promise(function(e){e(u)}))}function p(t){if(k[t])return k[t].exports;var r=k[t]={i:t,l:!1,exports:{},hot:o(t),parents:(_=O,O=[],_),children:[]};return e[t].call(r.exports,r,r.exports,i(t)),r.l=!0,r.exports}var f=this.webpackHotUpdate;this.webpackHotUpdate=function(e,t){d(e,t),f&&f(e,t)};var y,v,g,w,m=!0,x="dba268e562769f5143a4",b=1e4,j={},O=[],_=[],P=[],E="idle",M=0,D=0,S={},H={},I={},k={};p.m=e,p.c=k,p.d=function(e,t,r){p.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},p.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return p.d(t,"a",t),t},p.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},p.p="",p.h=function(){return x},i("./src/app.js")(p.s="./src/app.js")}({"./src/app.js":function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){var e=s(10,50),t=s(10,50),r=s(e/2,m.width-e/2),n=-t,i=new M(r,n,e,t);C.push(i)}function o(e,t){if(void 0===e||void 0===t)return!1;var r=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y);if(r>t.width/2+e.radius)return!1;if(n>t.height/2+e.radius)return!1;if(r<=t.width/2)return!0;if(n<=t.height/2)return!0;var i=r-t.width/2,o=n-t.height/2;return i*i+o*o<=Math.pow(e.radius,2)}function s(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function c(){clearInterval(q),b.classList.remove("active"),_.resize(),k=[],C=[],T=[],S=0,H||(H=!0,a()),I=new P,I.canShoot=!0,A=I.getSpawn(),q=setInterval(i,1e3)}function a(){_.clear(S),I.draw(R);for(var e=0;e<k.length;e++)k[e].update()||k.remove(e);for(var t=0;t<C.length;t++)C[t].update()||(H=!1,j.innerText=S,b.classList.add("active"));for(var r=0;r<k.length;r++)for(var n=0;n<C.length;n++)if(o(k[r],C[n])){var i={x:k[r].x,y:k[r].y};k.remove(r),C.remove(n),T.push(new D(i.x,i.y,s(15,30),100)),S++}for(var c=0;c<T.length;c++)T[c].update(),0===T[c].elemets.length&&T.remove(c);H&&requestAnimationFrame(a)}var d=r("./src/js/Ui.js"),l=n(d),h=r("./src/js/Player.js"),u=n(h),p=r("./src/js/Bullet.js"),f=n(p),y=r("./src/js/Enemi.js"),v=n(y),g=r("./src/js/Particles.js"),w=n(g),m=document.querySelector("canvas"),x=m.getContext("2d"),b=document.querySelector(".loss"),j=document.querySelector(".scoreElement"),O=document.querySelector("#restart"),_=new l.default(m,x),P=new u.default(m,x),E=new f.default(m,x),M=new v.default(m,x),D=new w.default(m,x),S=0,H=!0,I=void 0,k=void 0,A=void 0,C=void 0,q=void 0,T=void 0,R={x:void 0,y:void 0};addEventListener("resize",function(){c()}),addEventListener("mousemove",function(e){R.x=e.clientX,R.y=e.clientY}),O.addEventListener("click",function(){c()}),addEventListener("click",function(e){if(I.canShoot){I.canShoot=!1;var t=new E(A.x,A.y);t.moveTo(e.clientX,e.clientY),k.push(t),setTimeout(function(){return I.canShoot=!0},I.attackSpeed)}}),Array.prototype.remove=function(e,t){var r=this.slice((t||e)+1||this.length);return this.length=e<0?this.length+e:e,this.push.apply(this,r)},c(),a()},"./src/js/Bullet.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){function r(e,t){this.x=e,this.y=t,this.radius=2,this.speed=5,this.vx=0,this.vy=0}return r.prototype.draw=function(){t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fillStyle="#ECF0F1",t.fill(),t.closePath()},r.prototype.update=function(){return this.x+=this.vx,this.y+=this.vy,this.draw(),!(this.x>e.width||this.x<0||this.y>e.height||this.y<0)},r.prototype.moveTo=function(e,t){var r=e-this.x,n=t-this.y,i=Math.sqrt(Math.pow(r,2)+Math.pow(n,2));this.vx=r/i*this.speed,this.vy=n/i*this.speed},r}},"./src/js/Enemi.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){function r(e,t,r,n){this.x=e,this.y=t,this.width=r,this.height=n}return r.prototype.getDrawCord=function(){return{x:this.x-this.width/2,y:this.y-this.height/2}},r.prototype.draw=function(){var e=this.getDrawCord();t.beginPath(),t.fillStyle="#2980B9",t.fillRect(e.x,e.y,this.width,this.height)},r.prototype.update=function(){return this.y+=.5,this.draw(),this.y+this.height/2<e.height},r}},"./src/js/Particles.js":function(e,t,r){"use strict";function n(e,t){return Math.floor(Math.random()*(t-e+1)+e)}Object.defineProperty(t,"__esModule",{value:!0}),Array.prototype.remove=function(e,t){var r=this.slice((t||e)+1||this.length);return this.length=e<0?this.length+e:e,this.push.apply(this,r)},t.default=function(e,t){function r(e,t,r,i,o,s,c){this.x=e,this.y=t,this.vx=r,this.vy=i,this.gravity=o,this.color=s,this.life=c,this.startLife=c,this.size=n(6,10)}function i(e,t,n,i){this.elemets=[];for(var o=0;o<n;o++){var s=4*Math.random()-2,c=-(4*Math.random()+.3),a=new r(e,t,s,c,.2,{r:"231",g:"76",b:"60"},i);this.elemets.push(a)}}return r.prototype.draw=function(){t.beginPath(),t.fillStyle="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.life/this.startLife+")",t.fillRect(this.x-this.size/2,this.y-this.size,this.size,this.size),t.closePath()},r.prototype.update=function(){return this.x+=this.vx,this.y+=this.vy,this.vy+=this.gravity,this.draw(),--this.life>0},i.prototype.update=function(){t.globalCompositeOperation="lighter";for(var e=0;e<this.elemets.length;e++)this.elemets[e].update()||this.elemets.remove(e);t.globalCompositeOperation="source-over"},i}},"./src/js/Player.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){function r(){this.width=30,this.height=30,this.lineHeight=35,this.canShoot=!0,this.attackSpeed=200}return r.prototype.draw=function(r){t.beginPath(),t.fillStyle="#141c29",t.fillRect(e.width/2-this.width/2,e.height-this.height,this.width,this.height),t.closePath(),t.beginPath();var n=e.width/2,i=e.height-this.height+this.height/2,o=this.getAngle(r.x-n,r.y-i)+.5*Math.PI;t.save(),t.translate(n,i),t.rotate(o),t.translate(-n,-i),t.moveTo(n,i),t.lineTo(n,i-this.lineHeight),t.strokeStyle="#E74C3C",t.lineWidth=4,t.lineCap="round",t.stroke(),t.closePath(),t.restore()},r.prototype.getAngle=function(e,t){var r=Math.atan2(t,e);return r<0&&(r=2*Math.PI+r),r},r.prototype.getSpawn=function(){return{x:e.width/2,y:e.height-this.height+this.height/2}},r}},"./src/js/Ui.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{resize:function(){e.width=innerWidth,e.height=innerHeight},clear:function(r){t.clearRect(0,0,e.width,e.height),t.fillStyle="#2C3E50",t.fillRect(0,0,e.width,e.height),t.textAlign="center",t.font="42px Roboto",t.fillStyle="#ECF0F1",t.fillText("SHOOT",e.width/2,e.height/4),t.textAlign="left",t.font="16px Roboto",t.fillStyle="#ECF0F1",t.fillText("Score: "+r,5,20)}}}}});